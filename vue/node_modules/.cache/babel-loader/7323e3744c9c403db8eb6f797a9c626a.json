{"ast":null,"code":"//import axios from \"axios\";\nimport EmployeesComp from \"../components/EmployeesComp.vue\"; // importujemo da bismo je naveli u export\n\nexport default {\n  // sta cemo da prikazemo odnosno da exportujemo\n  name: \"EmployeesView\",\n  components: {\n    EmployeesComp\n  },\n  // koje komponente koristi\n  data: function () {\n    return {\n      employees: [] // vraca listu zaposlenih, evo ovde smo napravili employees listu i dole u callback funkciji dodeljujemo vrednosti\n\n    };\n  },\n  mounted: function () {\n    // mounted je udica za callback funkcije\n    //primer axios poziva\n\n    /*axios\n      .get(\"http://localhost:8081/api/employees\")\n      .then((res) => {\n        this.employees = res.data\n      })\n      .catch((err) =>{\n        console.log(err)\n      })*/\n    fetch('http://localhost:8081/api/employees').then(response => response.json()).then(data => {\n      console.log(\"Success:\", data);\n      this.employees = data;\n    }) // bitno samo this.emplyees = data\n    .catch(error => {\n      console.error(\"Error:\", error);\n    });\n  },\n  methods: {\n    addEmployee: function () {\n      this.$router.push(\"/add-employee\"); // napravi (pushuj) url i preusmeri se rutiranjem\n    },\n    seeMore: function (employee) {\n      // ovde dobije employee, ali ima delova koda kao sto je employeesComp koji barata sa employee a ne znam odakle mu\n      this.$router.push(\"/employee?id=\" + employee.id); // idemo preusmeravamo se momentalno na pomenuti link i vidi formata, pravimo query id link\n    },\n    deleteEmployee: function (id) {\n      fetch(\"http://localhost:8081/api/employees/\" + id, {\n        method: \"DELETE\"\n      }).then(res => {\n        if (res.ok) {\n          window.location.reload(); // osvezi stranicu\n        }\n      });\n    },\n    editEmployee: function (employee) {\n      this.$router.push(\"/edit-employee?id=\" + employee.id);\n    }\n  }\n};","map":{"version":3,"mappings":"AA0CA;AACA,OAAOA,aAAP,MAA0B,iCAA1B,C,CAA6D;;AAC7D,eAAe;EAAE;EACfC,IAAI,EAAE,eADO;EAEbC,UAAU,EAAE;IAAEF;EAAF,CAFC;EAEkB;EAC/BG,IAAI,EAAE,YAAY;IAChB,OAAO;MACLC,SAAS,EAAE,EADN,CACU;;IADV,CAAP;EAGD,CAPY;EAQbC,OAAO,EAAE,YAAY;IAAE;IAErB;;IACA;;;;;;;;IASEC,KAAK,CAAC,qCAAD,CAAL,CACGC,IADH,CACQC,QAAO,IAAKA,QAAQ,CAACC,IAAT,EADpB,EAEGF,IAFH,CAEQJ,IAAG,IAAK;MAACO,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBR,IAAxB;MAA+B,KAAKC,SAAL,GAAiBD,IAAjB;IAAsB,CAFtE,EAEwE;IAFxE,CAGGS,KAHH,CAGUC,KAAD,IAAW;MAChBH,OAAO,CAACG,KAAR,CAAc,QAAd,EAAwBA,KAAxB;IACD,CALH;EAOH,CA3BY;EA4BbC,OAAO,EAAE;IACPC,WAAW,EAAE,YAAW;MACtB,KAAKC,OAAL,CAAaC,IAAb,CAAkB,eAAlB,EADsB,CACc;IACrC,CAHM;IAIPC,OAAO,EAAE,UAAUC,QAAV,EAAoB;MAAE;MAC7B,KAAKH,OAAL,CAAaC,IAAb,CAAkB,kBAAkBE,QAAQ,CAACC,EAA7C,EAD2B,CACuB;IACnD,CANM;IAOPC,cAAc,EAAE,UAAUD,EAAV,EAAc;MAC5Bd,KAAK,CAAC,yCAAyCc,EAA1C,EAA8C;QACjDE,MAAM,EAAE;MADyC,CAA9C,CAAL,CAEGf,IAFH,CAESgB,GAAD,IAAS;QACf,IAAIA,GAAG,CAACC,EAAR,EAAY;UACVC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GADU,CACgB;QAC5B;MACD,CAND;IAOD,CAfM;IAgBPC,YAAY,EAAE,UAAST,QAAT,EAAmB;MAC/B,KAAKH,OAAL,CAAaC,IAAb,CAAkB,uBAAuBE,QAAQ,CAACC,EAAlD;IACD;EAlBM;AA5BI,CAAf","names":["EmployeesComp","name","components","data","employees","mounted","fetch","then","response","json","console","log","catch","error","methods","addEmployee","$router","push","seeMore","employee","id","deleteEmployee","method","res","ok","window","location","reload","editEmployee"],"sourceRoot":"","sources":["C:\\Users\\Vasilije\\Desktop\\Fakultet\\Druga godina\\4. semestar\\Veb programiranje\\uradjen_domaci\\demo-front\\src\\views\\EmployeesView.vue"],"sourcesContent":["<template>\n  <div id=\"allEmployees\">\n    <h1>Employees</h1>\n    <button v-on:click=\"addEmployee\">Add new employee</button>\n    <br /><br />\n    <div class=\"container-employees\">\n      <table id=\"employees\">\n        <tr>\n          <th>Ime</th>\n          <th>Prezime</th>\n          <th>Pozicija</th>\n          <th>About</th>\n          <th>Delete</th>\n          <th>Edit</th>\n        </tr>\n        <!--<tr v-for=\"employee in employees\" :key=\"employee.id\">\n          <td>{{ employee.firstName }}</td>\n          <td>{{ employee.lastName }}</td>\n          <td>{{ employee.position }}</td>\n          <td>\n            <button class=\"btnSeeMore\" v-on:click=\"seeMore(employee)\">\n              See more\n            </button>\n          </td>\n          <td>\n            <button class=\"delete\" v-on:click=\"deleteEmployee(employee.id)\">\n              Delete\n            </button>\n          </td>\n        </tr>-->\n        <employees-comp\n          v-for=\"employee in employees\"\n          :key=\"employee.id\"\n          :employee=\"employee\"\n        >\n        </employees-comp>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\n//import axios from \"axios\";\nimport EmployeesComp from \"../components/EmployeesComp.vue\"; // importujemo da bismo je naveli u export\nexport default { // sta cemo da prikazemo odnosno da exportujemo\n  name: \"EmployeesView\",\n  components: { EmployeesComp }, // koje komponente koristi\n  data: function () {\n    return {\n      employees: [], // vraca listu zaposlenih, evo ovde smo napravili employees listu i dole u callback funkciji dodeljujemo vrednosti\n    };\n  },\n  mounted: function () { // mounted je udica za callback funkcije\n\n    //primer axios poziva\n    /*axios\n      .get(\"http://localhost:8081/api/employees\")\n      .then((res) => {\n        this.employees = res.data\n      })\n      .catch((err) =>{\n        console.log(err)\n      })*/\n\n      fetch('http://localhost:8081/api/employees')\n        .then(response => response.json())\n        .then(data => {console.log(\"Success:\", data); this.employees = data}) // bitno samo this.emplyees = data\n        .catch((error) => {\n          console.error(\"Error:\", error);\n        })\n        ;\n  },\n  methods: {\n    addEmployee: function() {\n      this.$router.push(\"/add-employee\"); // napravi (pushuj) url i preusmeri se rutiranjem\n    },\n    seeMore: function (employee) { // ovde dobije employee, ali ima delova koda kao sto je employeesComp koji barata sa employee a ne znam odakle mu\n      this.$router.push(\"/employee?id=\" + employee.id); // idemo preusmeravamo se momentalno na pomenuti link i vidi formata, pravimo query id link\n    },\n    deleteEmployee: function (id) {\n      fetch(\"http://localhost:8081/api/employees/\" + id, {\n        method: \"DELETE\",\n      }).then((res) => {\n        if (res.ok) {\n          window.location.reload(); // osvezi stranicu\n        }\n      });\n    },\n    editEmployee: function(employee) {\n      this.$router.push(\"/edit-employee?id=\" + employee.id);\n    },\n  },\n};\n</script>\n\n<style>\nh1 {\n  color: #4caf50;\n}\n\nh3 {\n  color: #4caf50;\n}\n\n.container-employees {\n  display: flex;\n  justify-content: center;\n}\n\n#employees th {\n  padding-top: 12px;\n  padding-bottom: 12px;\n  text-align: left;\n  background-color: #4caf50;\n  color: white;\n}\n\n#employees td,\n#employees th {\n  border: 1px solid #ddd;\n  padding: 8px;\n}\n\n#employees tr:nth-child(even) {\n  background-color: #f2f2f2;\n}\n\n#employees tr:hover {\n  background-color: #ddd;\n}\n\n.card {\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n  max-width: 300px;\n  margin: auto;\n  text-align: center;\n}\n\n.title {\n  color: grey;\n  font-size: 18px;\n}\n</style>\n\n"]},"metadata":{},"sourceType":"module"}