{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"ArtikalView\",\n  data: function () {\n    return {\n      artikal: {\n        naziv: \"\",\n        cena: 0,\n        tip: \"\",\n        kolicina: 0,\n        opis: \"\"\n      },\n      menadzer: {\n        restoran: {\n          naziv: \"\",\n          tipRestorana: \"\",\n          artikli: [],\n          lokacija: {\n            adresa: \"\",\n            sirina: \"\",\n            duzina: \"\"\n          }\n        },\n        porudzbinaList: [{\n          artikli: [],\n          restoran: [],\n          datum_vreme: \"\",\n          cena: 0,\n          status: \"\"\n        }]\n      },\n      isEditing: false,\n      user: {\n        firstName: 'John Doe',\n        username: 'johndoe121',\n        email: 'demo@gmail.com',\n        password: 'password'\n      }\n    };\n  },\n  mounted: function () {\n    axios.get('http://localhost:8081/api/artikal/' + this.$route.query.id, {\n      withCredentials: true\n    }).then(res => {\n      console.log(res.data);\n      this.artikal = res.data; //console.log(this.menadzer.restoran.artikli[this.$route.query.id])\n    }).catch(err => {\n      // todo neovlascen pristup\n      console.log(err);\n    });\n  },\n  methods: {\n    cancel: function () {\n      this.user = this.resUser;\n      window.location.reload();\n    },\n    save: function () {\n      //this.user.datum_rodjenja = this.user.datum_rodjenja+\"T22:00:00\";\n      console.log(this.user);\n      /*axios\r\n      .put(\"http://localhost:8081/api/izmeni-profil\", this.user)\r\n      .then(res => {\r\n          console.log(res)\r\n          \r\n      })\r\n      .catch(error => {\r\n          console.log(error)\r\n          \r\n      });*/\n\n      console.log(this.user);\n      n = {\n        korisnickoIme: this.user.korisnickoIme,\n        lozinka: this.user.lozinka,\n        ime: this.user.ime,\n        prezime: this.user.prezime,\n        p: this.user.p,\n        datum_rodjenja: this.user.datum_rodjenja\n      };\n      fetch('http://localhost:8081/api/izmeni-profil', {\n        method: \"PUT\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-type\": \"application/json\"\n        },\n        body: JSON.stringify(n)\n      }).then(response => response.json).then(data => {\n        console.log(\"Success : \" + data);\n      }).catch(error => {\n        console.error(\"Error:\", error);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAkDA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;EACbC,IAAI,EAAE,aADO;EAEbC,IAAI,EAAE,YAAY;IAChB,OAAO;MACLC,OAAO,EAAE;QACPC,KAAK,EAAE,EADA;QAEPC,IAAI,EAAE,CAFC;QAGPC,GAAG,EAAE,EAHE;QAIPC,QAAQ,EAAE,CAJH;QAKPC,IAAI,EAAE;MALC,CADJ;MAQLC,QAAQ,EAAE;QACNC,QAAQ,EAAE;UACNN,KAAK,EAAE,EADD;UAENO,YAAY,EAAE,EAFR;UAGNC,OAAO,EAAE,EAHH;UAINC,QAAQ,EAAE;YACNC,MAAM,EAAE,EADF;YAENC,MAAM,EAAE,EAFF;YAGNC,MAAM,EAAE;UAHF;QAJJ,CADJ;QAUFC,cAAc,EAAE,CAAE;UACdL,OAAO,EAAE,EADK;UAEdF,QAAQ,EAAE,EAFI;UAGdQ,WAAW,EAAE,EAHC;UAIdb,IAAI,EAAE,CAJQ;UAKdc,MAAM,EAAE;QALM,CAAF;MAVd,CARL;MA0BLC,SAAS,EAAE,KA1BN;MA2BLC,IAAI,EAAE;QACJC,SAAS,EAAE,UADP;QAEJC,QAAQ,EAAC,YAFL;QAGJC,KAAK,EAAE,gBAHH;QAIJC,QAAQ,EAAE;MAJN;IA3BD,CAAP;EAkCD,CArCY;EAsCZC,OAAO,EAAE,YAAW;IACb1B,KAAI,CACD2B,GADH,CACO,uCAAuC,KAAKC,MAAL,CAAYC,KAAZ,CAAkBC,EADhE,EACoE;MAACC,eAAe,EAAE;IAAlB,CADpE,EAEGC,IAFH,CAESC,GAAD,IAAS;MACXC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAAC/B,IAAhB;MACA,KAAKC,OAAL,GAAe8B,GAAG,CAAC/B,IAAnB,CAFW,CAGX;IACJ,CANF,EAOGkC,KAPH,CAOUC,GAAD,IAAQ;MAAE;MACbH,OAAO,CAACC,GAAR,CAAYE,GAAZ;IACH,CATH;EAaL,CApDU;EAqDZC,OAAO,EAAE;IACJC,MAAM,EAAE,YAAW;MACf,KAAKlB,IAAL,GAAY,KAAKmB,OAAjB;MACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB;IACH,CAJG;IAKJC,IAAI,EAAE,YAAW;MACb;MACAV,OAAO,CAACC,GAAR,CAAY,KAAKd,IAAjB;MACA;;;;;;;;;;;MAWAa,OAAO,CAACC,GAAR,CAAY,KAAKd,IAAjB;MACAwB,IAAI;QAACC,aAAa,EAAE,KAAKzB,IAAL,CAAUyB,aAA1B;QACRC,OAAO,EAAE,KAAK1B,IAAL,CAAU0B,OADX;QAERC,GAAG,EAAE,KAAK3B,IAAL,CAAU2B,GAFP;QAGRC,OAAO,EAAE,KAAK5B,IAAL,CAAU4B,OAHX;QAIRC,CAAC,EAAE,KAAK7B,IAAL,CAAU6B,CAJL;QAKRC,cAAc,EAAE,KAAK9B,IAAL,CAAU8B;MALlB,CAAJ;MAOAC,KAAK,CAAC,yCAAD,EAA4C;QACrDC,MAAM,EAAE,KAD6C;QAErDC,OAAO,EAAE;UACPC,MAAM,EAAE,kBADD;UAEP,gBAAgB;QAFT,CAF4C;QAMrDC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeb,CAAf;MAN+C,CAA5C,CAAL,CAQHb,IARG,CAQG2B,QAAD,IAAcA,QAAQ,CAACC,IARzB,EASH5B,IATG,CASG9B,IAAD,IAAU;QACdgC,OAAO,CAACC,GAAR,CAAY,eAAejC,IAA3B;MACD,CAXG,EAYHkC,KAZG,CAYIyB,KAAD,IAAW;QAChB3B,OAAO,CAAC2B,KAAR,CAAc,QAAd,EAAwBA,KAAxB;MACD,CAdG;IAeJ;EA1CI;AArDG,CAAf","names":["axios","name","data","artikal","naziv","cena","tip","kolicina","opis","menadzer","restoran","tipRestorana","artikli","lokacija","adresa","sirina","duzina","porudzbinaList","datum_vreme","status","isEditing","user","firstName","username","email","password","mounted","get","$route","query","id","withCredentials","then","res","console","log","catch","err","methods","cancel","resUser","window","location","reload","save","n","korisnickoIme","lozinka","ime","prezime","p","datum_rodjenja","fetch","method","headers","Accept","body","JSON","stringify","response","json","error"],"sourceRoot":"","sources":["C:\\Users\\Vasilije\\Desktop\\Fakultet\\Druga godina\\4. semestar\\Veb programiranje\\front_projekat\\demo-front\\src\\views\\ArtikalView.vue"],"sourcesContent":["<template>\r\n\r\n\r\n<div class=\"card\">\r\n    <div id=\"app\">\r\n  <div class=\"d-flex flex-row mt-2 mb-2 align-items-center gap-2\">\r\n    <label>Naziv:</label>\r\n    <input class=\"form-control\" type=\"text\" ref=\"first_name\"  :disabled=\"!isEditing\"\r\n           :class=\"{view: !isEditing}\" :value=\"this.artikal.naziv\">      \r\n  </div>\r\n  \r\n  <div class=\"d-flex flex-row mt-2 mb-2 align-items-center gap-2\">\r\n    <label>Username:</label>\r\n    <input class=\"form-control\" type=\"text\" ref=\"username\" :value=\"this.artikal.cena\" :disabled=\"!isEditing\"\r\n           :class=\"{view: !isEditing}\">  \r\n  </div>\r\n  \r\n  <div class=\"d-flex flex-row mt-2 mb-2 align-items-center gap-2\">\r\n    <label>Tip artikla:</label>\r\n    <input class=\"form-control\" type=\"text\" ref=\"email\" :value=\"this.artikal.tip\" :disabled=\"true\"\r\n           :class=\"{view: !isEditing}\">  \r\n  </div>\r\n  \r\n  <div class=\"d-flex flex-row mt-2 align-items-center gap-2\">\r\n    <label>Opis:</label>\r\n    <input class=\"form-control\" type=\"text\" ref=\"opis\" :value=\"this.artikal.opis\" :disabled=\"!isEditing\"\r\n           :class=\"{view: !isEditing}\">  \r\n  </div>\r\n  \r\n  <!-- todo -->\r\n  <br>\r\n  <input type=\"file\" class=\"form-control\" id=\"customFile\" />\r\n  \r\n  \r\n  <div class=\"mt-3 mb-3\">\r\n    <button class=\"btn btn-sm btn-success\" @click=\"isEditing = !isEditing\" v-if=\"!isEditing\">\r\n    Edit\r\n  </button>\r\n  <button class=\"btn btn-sm btn-success me-1\" @click=\"save\" v-else-if=\"isEditing\">\r\n  Save\r\n  </button>\r\n  \r\n  <button class=\"btn btn-sm btn-danger\" v-if=\"isEditing\" @click=\"isEditing = false\">Cancel</button>\r\n  </div>\r\n</div>\r\n</div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"ArtikalView\",\r\n  data: function () {\r\n    return {\r\n      artikal: {\r\n        naziv: \"\",\r\n        cena: 0,\r\n        tip: \"\",\r\n        kolicina: 0,\r\n        opis: \"\"\r\n      },\r\n      menadzer: {\r\n          restoran: { \r\n              naziv: \"\", \r\n              tipRestorana: \"\", \r\n              artikli: [], \r\n              lokacija: { \r\n                  adresa: \"\", \r\n                  sirina: \"\", \r\n                  duzina: \"\"}\r\n              }, \r\n              porudzbinaList: [ {\r\n                  artikli: [],\r\n                  restoran: [],\r\n                  datum_vreme: \"\",\r\n                  cena: 0,\r\n                  status: \"\"\r\n              } ] \r\n      },\r\n      isEditing: false,\r\n      user: {\r\n        firstName: 'John Doe',\r\n        username:'johndoe121',\r\n        email: 'demo@gmail.com',\r\n        password: 'password'\r\n      }\r\n  };\r\n  },\r\n   mounted: function() {\r\n          axios\r\n            .get('http://localhost:8081/api/artikal/' + this.$route.query.id, {withCredentials: true})\r\n            .then((res) => {\r\n                console.log(res.data)\r\n                this.artikal = res.data\r\n                //console.log(this.menadzer.restoran.artikli[this.$route.query.id])\r\n           })\r\n            .catch((err) =>{ // todo neovlascen pristup\r\n                console.log(err)\r\n            })\r\n\r\n            \r\n\r\n    },\r\n   methods: {\r\n        cancel: function() {\r\n            this.user = this.resUser\r\n            window.location.reload(); \r\n        },\r\n        save: function() {\r\n            //this.user.datum_rodjenja = this.user.datum_rodjenja+\"T22:00:00\";\r\n            console.log(this.user)\r\n            /*axios\r\n            .put(\"http://localhost:8081/api/izmeni-profil\", this.user)\r\n            .then(res => {\r\n                console.log(res)\r\n                \r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n                \r\n            });*/\r\n            \r\n            console.log(this.user)\r\n            n = {korisnickoIme: this.user.korisnickoIme,\r\n        lozinka: this.user.lozinka,\r\n        ime: this.user.ime,\r\n        prezime: this.user.prezime,\r\n        p: this.user.p,\r\n        datum_rodjenja: this.user.datum_rodjenja}\r\n        \r\n            fetch('http://localhost:8081/api/izmeni-profil', {\r\n        method: \"PUT\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(n),\r\n      })\r\n        .then((response) => response.json)\r\n        .then((data) => {\r\n          console.log(\"Success : \" + data);\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error:\", error);\r\n        });\r\n        }\r\n   }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n</script>\r\n\r\n\r\n\r\n\r\n<style>\r\n.view {\r\n  border-color: transparent;\r\n  background-color: initial !important;\r\n  color: initial\r\n}\r\n\r\n.form-control:focus{\r\n   outline: none;\r\n   box-shadow: none;\r\n}\r\n\r\n.mt-5{\r\n    margin-top:10px;\r\n}\r\n\r\n.mb-5{\r\n    margin-bottom:20px;\r\n}\r\n\r\nbody{\r\n  height:100vh;\r\n  background-color:#eee;\r\n  display:flex;\r\n  justify-content:center;\r\n  align-items:center;\r\n}\r\n\r\n.card{\r\n    width:700px;\r\n    background-color:#fff;\r\n    padding:10px;\r\n    border-radius:100px;\r\n    border: none;\r\n}\r\n\r\n.btn:focus{\r\n    outline: none;\r\n    box-shadow: none;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}