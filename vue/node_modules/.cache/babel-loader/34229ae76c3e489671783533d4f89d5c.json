{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"ProfilView\",\n  data: function () {\n    return {\n      user: {\n        korisnickoIme: \"\",\n        ime: \"\",\n        prezime: \"\",\n        p: \"\",\n        datum_rodjenja: \"\",\n        uloga: \"\",\n        lozinka: \"\"\n      },\n      resUser: '',\n      lozinka: \"12345678\",\n      value: '',\n      tmp: \"2000-04-04\",\n      n: ''\n    };\n  },\n  mounted: function () {\n    axios.get(\"http://localhost:8081/api/profil\", {\n      withCredentials: 'include'\n    }).then(res => {\n      console.log(res.data);\n      this.user = res.data;\n      console.log(this.user.datum_rodjenja);\n      this.user.datum_rodjenja = this.user.datum_rodjenja.substring(0, 10);\n      console.log(this.user.datum_rodjenja);\n    }).catch(err => {\n      console.log(err);\n      alert(\"Neispravna izmena\");\n    });\n  },\n  methods: {\n    cancel: function () {\n      this.user = this.resUser;\n      window.location.reload();\n    },\n    save: function () {\n      this.user.datum_rodjenja = this.user.datum_rodjenja + \"T22:00:00.000+00:00\";\n      console.log(this.user);\n      console.log(this.user.datum_rodjenja);\n      axios.post(\"http://localhost:8081/api/izmeni-profil\", this.user).then(res => {\n        console.log(res);\n      }).catch(error => {\n        console.log(error);\n      });\n      /*console.log(this.user)\r\n      n = {korisnickoIme: this.user.korisnickoIme,\r\n      lozinka: this.user.lozinka,\r\n      ime: this.user.ime,\r\n      prezime: this.user.prezime,\r\n      p: this.user.p,\r\n      datum_rodjenja: this.user.datum_rodjenja}\r\n                fetch('http://localhost:8081/api/izmeni-profil', {\r\n      method: \"PUT\",\r\n      headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(n),\r\n      })\r\n      .then((response) => response.json)\r\n      .then((data) => {\r\n      console.log(\"Success : \" + data);\r\n      })\r\n      .catch((error) => {\r\n      console.error(\"Error:\", error);\r\n      });*/\n    }\n  }\n};","map":{"version":3,"mappings":"AAgGA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;EACbC,IAAI,EAAE,YADO;EAEbC,IAAI,EAAE,YAAY;IAChB,OAAO;MACLC,IAAI,EAAG;QACLC,aAAa,EAAE,EADV;QAELC,GAAG,EAAE,EAFA;QAGLC,OAAO,EAAE,EAHJ;QAILC,CAAC,EAAE,EAJE;QAKLC,cAAc,EAAE,EALX;QAMLC,KAAK,EAAE,EANF;QAOLC,OAAO,EAAE;MAPJ,CADF;MAULC,OAAO,EAAE,EAVJ;MAWLD,OAAO,EAAE,UAXJ;MAYLE,KAAK,EAAE,EAZF;MAaLC,GAAG,EAAE,YAbA;MAcLC,CAAC,EAAE;IAdE,CAAP;EAgBD,CAnBY;EAoBZC,OAAO,EAAE,YAAY;IACpBf,KAAI,CACDgB,GADH,CACO,kCADP,EAC2C;MAACC,eAAe,EAAC;IAAjB,CAD3C,EAEGC,IAFH,CAESC,GAAD,IAAS;MACbC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACjB,IAAhB;MACA,KAAKC,IAAL,GAAYgB,GAAG,CAACjB,IAAhB;MACAkB,OAAO,CAACC,GAAR,CAAY,KAAKlB,IAAL,CAAUK,cAAtB;MACA,KAAKL,IAAL,CAAUK,cAAV,GAA2B,KAAKL,IAAL,CAAUK,cAAV,CAAyBc,SAAzB,CAAmC,CAAnC,EAAqC,EAArC,CAA3B;MACAF,OAAO,CAACC,GAAR,CAAY,KAAKlB,IAAL,CAAUK,cAAtB;IACD,CARH,EASGe,KATH,CASUC,GAAD,IAAQ;MACbJ,OAAO,CAACC,GAAR,CAAYG,GAAZ;MACAC,KAAK,CAAC,mBAAD,CAAL;IACD,CAZH;EAaA,CAlCW;EAmCZC,OAAO,EAAE;IACJC,MAAM,EAAE,YAAW;MACf,KAAKxB,IAAL,GAAY,KAAKQ,OAAjB;MACAiB,MAAM,CAACC,QAAP,CAAgBC,MAAhB;IACH,CAJG;IAKJC,IAAI,EAAE,YAAW;MACb,KAAK5B,IAAL,CAAUK,cAAV,GAA2B,KAAKL,IAAL,CAAUK,cAAV,GAAyB,qBAApD;MACAY,OAAO,CAACC,GAAR,CAAY,KAAKlB,IAAjB;MACAiB,OAAO,CAACC,GAAR,CAAY,KAAKlB,IAAL,CAAUK,cAAtB;MACAR,KAAI,CACHgC,IADD,CACM,yCADN,EACiD,KAAK7B,IADtD,EAECe,IAFD,CAEMC,GAAE,IAAK;QACTC,OAAO,CAACC,GAAR,CAAYF,GAAZ;MAEH,CALD,EAMCI,KAND,CAMOU,KAAI,IAAK;QACZb,OAAO,CAACC,GAAR,CAAYY,KAAZ;MAEH,CATD;MAWA;;;;;;;;;;;;;;;;;;;;;;IAuBJ;EA3CI;AAnCG,CAAf","names":["axios","name","data","user","korisnickoIme","ime","prezime","p","datum_rodjenja","uloga","lozinka","resUser","value","tmp","n","mounted","get","withCredentials","then","res","console","log","substring","catch","err","alert","methods","cancel","window","location","reload","save","post","error"],"sourceRoot":"","sources":["C:\\Users\\Vasilije\\Documents\\GitHub\\VebProjekat\\vue\\src\\views\\ProfilView.vue"],"sourcesContent":["<template>\r\n\r\n\r\n<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n  <div class=\"container-fluid\">\r\n    <a class=\"navbar-brand\">Odnesi</a>\r\n    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n      <span class=\"navbar-toggler-icon\"></span>\r\n    </button>\r\n    <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n      <ul class=\"navbar-nav\">\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link active\" aria-current=\"page\" href=\"/\">Početna</a>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <a v-if=\"this.uloga === 'neovlascen_pristup'\" class=\"nav-link active\" aria-current=\"page\" href=\"/login\">Uloguj se</a>\r\n        </li>\r\n        <li  v-if=\"this.uloga !== 'neovlascen_pristup'\" class=\"nav-item\">\r\n          <a class=\"nav-link active\" aria-current=\"page\" href=\"/odjavi-se\">Odjavi se</a>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link active\" aria-current=\"page\" href=\"/profil\">Profil</a>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link active\" aria-current=\"page\" href=\"/dashboard\">Dashboard</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</nav>\r\n\r\n\r\n<!-- FORMA -->\r\n<link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css\" integrity=\"sha384-r4NyP46KrjDleawBgD5tp8Y7UzmLA05oM1iAEQ17CSuDqnUK2+k9luXQOfXJCJ4I\" crossorigin=\"anonymous\">\r\n<link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\" integrity=\"sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN\" crossorigin=\"anonymous\">\r\n\r\n<div class=\"card\">\r\n    \r\n    <!-- todo, sliku ovde -->\r\n\r\n    <br>\r\n    \r\n    <div id=\"app\">\r\n      <label> Ime</label>\r\n  <div class=\"d-flex flex-row mt-2 mb-3 align-items-center gap-1\">\r\n    <input class=\"form-control\" type=\"text\" v-model=\"this.user.ime\">      \r\n  </div>\r\n\r\n  <label> Prezime</label>\r\n  <div class=\"d-flex flex-row mt-2 mb-3 align-items-left gap-1\">\r\n    <input class=\"form-control\" type=\"text\" v-model=\"this.user.prezime\">  \r\n  </div>\r\n  \r\n  <label> Pol</label>\r\n  <div class=\"d-flex flex-row mt-2 mb-3 align-items-center gap-1\">\r\n    <select v-model=\"this.user.pol\" class=\"form-select\" aria-label=\"Default select example\">\r\n      <option value=\"MUSKO\">Musko</option>\r\n      <option value=\"ZENSKO\">Zensko</option>\r\n    </select>\r\n  </div>\r\n\r\n  \r\n  <label>Korisničko ime</label>\r\n  <div class=\"d-flex flex-row mt-2 mb-3 align-items-center gap-1\">\r\n    <input class=\"form-control\" type=\"text\"  v-model=\"this.user.korisnickoIme\">  \r\n  </div>\r\n\r\n  <label>Lozinka</label>\r\n  <div class=\"d-flex flex-row mt-2 mb-3 align-items-center gap-1\">\r\n    <input class=\"form-control\" type=\"text\"  v-model=\"this.user.lozinka\">  \r\n  </div>\r\n  \r\n  <!-- todo -->\r\n\r\n  <label>Datum rodjenja</label>\r\n  <div class=\"d-flex flex-row mt-2 mb-5 align-items-center gap-1\">\r\n    <input v-model=\"this.user.datum_rodjenja\" type=\"date\" id=\"birthday\" name=\"birthday\">\r\n  </div>\r\n  \r\n  <div class=\"mt-3 mb-3\">\r\n    <button @click=\"save()\" type=\"button\" class=\"btn btn-labeled btn-success mr-3\"> \r\n      <span class=\"btn-label\"><i class=\"fa fa-check\"></i></span> Izmeni \r\n    </button>\r\n    <button @click=\"cancel()\" type=\"button\" class=\"btn btn-labeled btn-danger\"> \r\n      <span class=\"btn-label\"><i class=\"fa fa-remove\"></i></span> Otkaži\r\n    </button> \r\n </div>\r\n  \r\n</div>\r\n</div>\r\n<!-- FORMA -->\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"ProfilView\",\r\n  data: function () {\r\n    return {\r\n      user:  {\r\n        korisnickoIme: \"\",\r\n        ime: \"\",\r\n        prezime: \"\",\r\n        p: \"\",\r\n        datum_rodjenja: \"\",\r\n        uloga: \"\",\r\n        lozinka: \"\",\r\n      },\r\n      resUser: '',\r\n      lozinka: \"12345678\",\r\n      value: '',\r\n      tmp: \"2000-04-04\",\r\n      n: ''\r\n    };\r\n  },\r\n   mounted: function () {\r\n    axios\r\n      .get(\"http://localhost:8081/api/profil\", {withCredentials:'include'})\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.user = res.data;\r\n        console.log(this.user.datum_rodjenja)\r\n        this.user.datum_rodjenja = this.user.datum_rodjenja.substring(0,10)\r\n        console.log(this.user.datum_rodjenja)\r\n      })\r\n      .catch((err) =>{\r\n        console.log(err)\r\n        alert(\"Neispravna izmena\")\r\n      })\r\n   },\r\n   methods: {\r\n        cancel: function() {\r\n            this.user = this.resUser\r\n            window.location.reload(); \r\n        },\r\n        save: function() {\r\n            this.user.datum_rodjenja = this.user.datum_rodjenja+\"T22:00:00.000+00:00\";\r\n            console.log(this.user)\r\n            console.log(this.user.datum_rodjenja)\r\n            axios\r\n            .post(\"http://localhost:8081/api/izmeni-profil\", this.user)\r\n            .then(res => {\r\n                console.log(res)\r\n                \r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n                \r\n            });\r\n            \r\n            /*console.log(this.user)\r\n            n = {korisnickoIme: this.user.korisnickoIme,\r\n        lozinka: this.user.lozinka,\r\n        ime: this.user.ime,\r\n        prezime: this.user.prezime,\r\n        p: this.user.p,\r\n        datum_rodjenja: this.user.datum_rodjenja}\r\n        \r\n            fetch('http://localhost:8081/api/izmeni-profil', {\r\n        method: \"PUT\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(n),\r\n      })\r\n        .then((response) => response.json)\r\n        .then((data) => {\r\n          console.log(\"Success : \" + data);\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error:\", error);\r\n        });*/\r\n        }\r\n   }\r\n}\r\n\r\n\r\n</script>\r\n\r\n"]},"metadata":{},"sourceType":"module"}