{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"ProfilView\",\n  data: function () {\n    return {\n      user: {}\n      /* {\r\n      korisnickoIme: '',\r\n      lozinka: 'safsa',\r\n      ime: '',\r\n      prezime: '',\r\n      p: '',\r\n      datum_rodjenja: '',\r\n      }*/\n      ,\n      resUser: '',\n      lozinka: \"12345678\",\n      value: '',\n      tmp: \"2000-04-04\",\n      n: ''\n    };\n  },\n  mounted: function () {\n    axios.get(\"http://localhost:8081/api/profil\", {\n      withCredentials: 'include'\n    }).then(res => {\n      console.log(res.data);\n      this.user = JSON.parse(JSON.stringify(res.data));\n      console.log(this.user);\n      this.resUser = JSON.parse(JSON.stringify(res.data));\n      console.log(this.resUser.datum_rodjenja);\n    }).catch(err => {\n      console.log(err);\n    });\n  },\n  methods: {\n    cancel: function () {\n      this.user = this.resUser;\n      window.location.reload();\n    },\n    save: function () {\n      //this.user.datum_rodjenja = this.user.datum_rodjenja+\"T22:00:00\";\n      console.log(this.user);\n      /*axios\r\n      .put(\"http://localhost:8081/api/izmeni-profil\", this.user)\r\n      .then(res => {\r\n          console.log(res)\r\n          \r\n      })\r\n      .catch(error => {\r\n          console.log(error)\r\n          \r\n      });*/\n\n      console.log(this.user);\n      n = {\n        korisnickoIme: this.user.korisnickoIme,\n        lozinka: this.user.lozinka,\n        ime: this.user.ime,\n        prezime: this.user.prezime,\n        p: this.user.p,\n        datum_rodjenja: this.user.datum_rodjenja\n      };\n      fetch('http://localhost:8081/api/izmeni-profil', {\n        method: \"PUT\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-type\": \"application/json\"\n        },\n        body: JSON.stringify(n)\n      }).then(response => response.json).then(data => {\n        console.log(\"Success : \" + data);\n      }).catch(error => {\n        console.error(\"Error:\", error);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AA4JA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;EACbC,IAAI,EAAE,YADO;EAEbC,IAAI,EAAE,YAAY;IAChB,OAAO;MACLC,IAAI,EAAE;MAAG;;;;;;;;MADJ;MASLC,OAAO,EAAE,EATJ;MAULC,OAAO,EAAE,UAVJ;MAWLC,KAAK,EAAE,EAXF;MAYLC,GAAG,EAAE,YAZA;MAaLC,CAAC,EAAE;IAbE,CAAP;EAeD,CAlBY;EAmBZC,OAAO,EAAE,YAAY;IACpBT,KAAI,CACDU,GADH,CACO,kCADP,EAC2C;MAACC,eAAe,EAAC;IAAjB,CAD3C,EAEGC,IAFH,CAESC,GAAD,IAAS;MACbC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACX,IAAhB;MAEA,KAAKC,IAAL,GAAYa,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeL,GAAG,CAACX,IAAnB,CAAX,CAAZ;MACAY,OAAO,CAACC,GAAR,CAAY,KAAKZ,IAAjB;MACA,KAAKC,OAAL,GAAeY,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeL,GAAG,CAACX,IAAnB,CAAX,CAAf;MACAY,OAAO,CAACC,GAAR,CAAY,KAAKX,OAAL,CAAae,cAAzB;IACD,CATH,EAUGC,KAVH,CAUUC,GAAD,IAAQ;MACbP,OAAO,CAACC,GAAR,CAAYM,GAAZ;IACD,CAZH;EAaA,CAjCW;EAkCZC,OAAO,EAAE;IACJC,MAAM,EAAE,YAAW;MACf,KAAKpB,IAAL,GAAY,KAAKC,OAAjB;MACAoB,MAAM,CAACC,QAAP,CAAgBC,MAAhB;IACH,CAJG;IAKJC,IAAI,EAAE,YAAW;MACb;MACAb,OAAO,CAACC,GAAR,CAAY,KAAKZ,IAAjB;MACA;;;;;;;;;;;MAWAW,OAAO,CAACC,GAAR,CAAY,KAAKZ,IAAjB;MACAK,IAAI;QAACoB,aAAa,EAAE,KAAKzB,IAAL,CAAUyB,aAA1B;QACRvB,OAAO,EAAE,KAAKF,IAAL,CAAUE,OADX;QAERwB,GAAG,EAAE,KAAK1B,IAAL,CAAU0B,GAFP;QAGRC,OAAO,EAAE,KAAK3B,IAAL,CAAU2B,OAHX;QAIRC,CAAC,EAAE,KAAK5B,IAAL,CAAU4B,CAJL;QAKRZ,cAAc,EAAE,KAAKhB,IAAL,CAAUgB;MALlB,CAAJ;MAOAa,KAAK,CAAC,yCAAD,EAA4C;QACrDC,MAAM,EAAE,KAD6C;QAErDC,OAAO,EAAE;UACPC,MAAM,EAAE,kBADD;UAEP,gBAAgB;QAFT,CAF4C;QAMrDC,IAAI,EAAEpB,IAAI,CAACE,SAAL,CAAeV,CAAf;MAN+C,CAA5C,CAAL,CAQHI,IARG,CAQGyB,QAAD,IAAcA,QAAQ,CAACC,IARzB,EASH1B,IATG,CASGV,IAAD,IAAU;QACdY,OAAO,CAACC,GAAR,CAAY,eAAeb,IAA3B;MACD,CAXG,EAYHkB,KAZG,CAYImB,KAAD,IAAW;QAChBzB,OAAO,CAACyB,KAAR,CAAc,QAAd,EAAwBA,KAAxB;MACD,CAdG;IAeJ;EA1CI;AAlCG,CAAf","names":["axios","name","data","user","resUser","lozinka","value","tmp","n","mounted","get","withCredentials","then","res","console","log","JSON","parse","stringify","datum_rodjenja","catch","err","methods","cancel","window","location","reload","save","korisnickoIme","ime","prezime","p","fetch","method","headers","Accept","body","response","json","error"],"sourceRoot":"","sources":["C:\\Users\\Vasilije\\Documents\\GitHub\\VebProjekat\\vue\\src\\views\\ProfilView.vue"],"sourcesContent":["<template>\r\n\r\n<!-- FORMA -->\r\n<link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css\" integrity=\"sha384-r4NyP46KrjDleawBgD5tp8Y7UzmLA05oM1iAEQ17CSuDqnUK2+k9luXQOfXJCJ4I\" crossorigin=\"anonymous\">\r\n<link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\" integrity=\"sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN\" crossorigin=\"anonymous\">\r\n\r\n<div class=\"card\">\r\n    \r\n    <!-- todo, sliku ovde -->\r\n\r\n    <br>\r\n    \r\n    <div id=\"app\">\r\n      <label> Naziv</label>\r\n  <div class=\"d-flex flex-row mt-2 mb-3 align-items-center gap-1\">\r\n    <input class=\"form-control\" type=\"text\" v-model=\"this.user.ime\">      \r\n  </div>\r\n\r\n  <label>Cena</label>\r\n  <div class=\"d-flex flex-row mt-2 mb-3 align-items-left gap-1\">\r\n    <input class=\"form-control\" type=\"text\" v-model=\"this.user.prezime\">  \r\n  </div>\r\n  \r\n  <label>Tip</label>\r\n  <div class=\"d-flex flex-row mt-2 mb-3 align-items-center gap-1\">\r\n    <select  class=\"form-select\" aria-label=\"Default select example\">\r\n      <option value=\"jelo\">Jelo</option>\r\n      <option value=\"pice\">Pice</option>\r\n    </select>\r\n  </div>\r\n\r\n  \r\n  <label>Opis</label>\r\n  <div class=\"d-flex flex-row mt-2 mb-3 align-items-center gap-1\">\r\n    <input class=\"form-control\" type=\"text\"  v-model=\"this.user.korisnickoIme\">  \r\n  </div>\r\n\r\n  <label>Lozinka</label>\r\n  <div class=\"d-flex flex-row mt-2 mb-3 align-items-center gap-1\">\r\n    <input class=\"form-control\" type=\"text\"  v-model=\"this.user.lozinka\">  \r\n  </div>\r\n  \r\n  <!-- todo -->\r\n\r\n  <label>Slika-upload(todo)</label>\r\n  <div class=\"d-flex flex-row mt-2 mb-3 align-items-center gap-1\">\r\n    <input type=\"file\" class=\"form-control\" id=\"customFile\" />\r\n  </div>\r\n  \r\n  <div class=\"mt-3 mb-3\">\r\n    <button @click=\"save()\" type=\"button\" class=\"btn btn-labeled btn-success mr-3\"> \r\n      <span class=\"btn-label\"><i class=\"fa fa-check\"></i></span> Izmeni \r\n    </button>\r\n    <button @click=\"cancel()\" type=\"button\" class=\"btn btn-labeled btn-danger\"> \r\n      <span class=\"btn-label\"><i class=\"fa fa-remove\"></i></span> Otkaži\r\n    </button> \r\n </div>\r\n  \r\n</div>\r\n</div>\r\n<!-- FORMA -->\r\n\r\n\r\n\r\n<div class=\"container\">\r\n    <h1>Vaš profil</h1>\r\n  \t<hr>\r\n\t<div class=\"row\">\r\n      <!-- left column -->\r\n      \r\n      <!-- edit form column -->\r\n      <div class=\"col-md-9 personal-info\">\r\n        <h3>Lični podaci</h3>\r\n        \r\n        <form class=\"form-horizontal\" role=\"form\">\r\n          <div class=\"form-group\">\r\n            <label class=\"col-lg-3 control-label\">Ime:</label>\r\n            <div class=\"col-lg-8\">\r\n              <input class=\"form-control\" required=\"true\" maxlength = \"20\" type=\"text\" v-model=\"this.user.ime\">\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label class=\"col-lg-3 control-label\">Prezime:</label>\r\n            <div class=\"col-lg-8\">\r\n              <input class=\"form-control\" required=\"true\" maxlength = \"20\" type=\"text\" v-model=\"this.user.prezime\">\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label class=\"col-md-3 control-label\">Korisničko ime:</label>\r\n            <div class=\"col-md-8\">\r\n              <input class=\"form-control\" required=\"true\" maxlength = \"20\" type=\"text\" v-model=\"this.user.korisnickoIme\">\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label class=\"col-md-3 control-label\">Lozinka:</label>\r\n            <div class=\"col-md-8\">\r\n              <input class=\"form-control\" required=\"true\" maxlength = \"20\" type=\"password\" v-model=\"this.lozinka\">\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label class=\"col-md-3 control-label\"></label>\r\n            <div class=\"col-md-8\">\r\n              <input @click=\"save()\" type=\"button\" class=\"btn btn-primary\" value=\"Save Changes\">\r\n              <span></span>\r\n              <input @click=\"cancel()\" type=\"button\" class=\"btn btn-default\" value=\"Cancel\">\r\n            </div>\r\n          </div>\r\n          <!-- todo datum i pol -->\r\n        </form>\r\n      </div>\r\n  </div>\r\n</div>\r\n<hr>\r\n\r\n\r\n\r\n\r\n\r\n    <div>\r\n      <table>\r\n        <tr>\r\n            <th>Korisnicko ime</th>\r\n            <td>{{ this.user.korisnickoIme }}</td>\r\n            <td><button v-on:click=\"izmeniKorisnickoIme\">Izmeni</button></td>\r\n        </tr>\r\n        <tr>\r\n            <th>Lozinka</th>\r\n            <td>••••••••</td>\r\n            <td><button v-on:click=\"izmeniLozinku\">Izmeni</button></td>\r\n        </tr>\r\n        <tr>\r\n            <th>Ime</th>\r\n            <td>{{ this.user.ime }}</td>\r\n            <td><button v-on:click=\"izmeniIme\">Izmeni</button></td>\r\n        </tr>\r\n        <tr>\r\n            <th>Prezime</th>\r\n            <td>{{ this.user.prezime }}</td>\r\n            <td><button v-on:click=\"izmeniPrezime\">Izmeni</button></td>\r\n        </tr>\r\n        <tr>\r\n            <th>Pol</th>\r\n            <td>{{ this.user.p }}</td>\r\n            <td><button v-on:click=\"izmeniPol\">Izmeni</button></td>\r\n        </tr>\r\n        <tr>\r\n            <th>Datum rodjenja</th>\r\n            <td>{{ this.user.datum_rodjenja }}</td>\r\n            <td><button v-on:click=\"izmeniPol\">Izmeni</button></td>\r\n        </tr>\r\n      </table>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"ProfilView\",\r\n  data: function () {\r\n    return {\r\n      user: {} /* {\r\n        korisnickoIme: '',\r\n        lozinka: 'safsa',\r\n        ime: '',\r\n        prezime: '',\r\n        p: '',\r\n        datum_rodjenja: '',\r\n      }*/,\r\n      resUser: '',\r\n      lozinka: \"12345678\",\r\n      value: '',\r\n      tmp: \"2000-04-04\",\r\n      n: ''\r\n    };\r\n  },\r\n   mounted: function () {\r\n    axios\r\n      .get(\"http://localhost:8081/api/profil\", {withCredentials:'include'})\r\n      .then((res) => {\r\n        console.log(res.data)\r\n        \r\n        this.user = JSON.parse(JSON.stringify(res.data));\r\n        console.log(this.user)\r\n        this.resUser = JSON.parse(JSON.stringify(res.data));\r\n        console.log(this.resUser.datum_rodjenja)\r\n      })\r\n      .catch((err) =>{\r\n        console.log(err)\r\n      })\r\n   },\r\n   methods: {\r\n        cancel: function() {\r\n            this.user = this.resUser\r\n            window.location.reload(); \r\n        },\r\n        save: function() {\r\n            //this.user.datum_rodjenja = this.user.datum_rodjenja+\"T22:00:00\";\r\n            console.log(this.user)\r\n            /*axios\r\n            .put(\"http://localhost:8081/api/izmeni-profil\", this.user)\r\n            .then(res => {\r\n                console.log(res)\r\n                \r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n                \r\n            });*/\r\n            \r\n            console.log(this.user)\r\n            n = {korisnickoIme: this.user.korisnickoIme,\r\n        lozinka: this.user.lozinka,\r\n        ime: this.user.ime,\r\n        prezime: this.user.prezime,\r\n        p: this.user.p,\r\n        datum_rodjenja: this.user.datum_rodjenja}\r\n        \r\n            fetch('http://localhost:8081/api/izmeni-profil', {\r\n        method: \"PUT\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(n),\r\n      })\r\n        .then((response) => response.json)\r\n        .then((data) => {\r\n          console.log(\"Success : \" + data);\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error:\", error);\r\n        });\r\n        }\r\n   }\r\n}\r\n\r\n\r\n</script>\r\n\r\n"]},"metadata":{},"sourceType":"module"}